#!/bin/sh
set -euo pipefail

# Install Abra cli to Cargo bin
cargo install --bin abra --path cli

# Install Vim syntax highlighting if ~/.vim exists
VIM_DIR="$HOME/.vim"
TARGET_DIR="$VIM_DIR/syntax"
SOURCE_FILE="./tooling/abra.vim"
TARGET_FILE="$TARGET_DIR/abra.vim"
if [ -d "$VIM_DIR" ]; then
  mkdir -p $VIM_DIR/syntax
  mkdir -p $VIM_DIR/ftdetect
  cp ./tooling/syntax.vim $VIM_DIR/syntax/abra.vim
  cp ./tooling/ftdetect.vim $VIM_DIR/ftdetect/abra.vim
fi

